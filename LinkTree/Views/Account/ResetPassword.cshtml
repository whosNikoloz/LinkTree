@{
	Layout = "_Layout";
}

<link href="~/css/LoginFormV1.css" rel="stylesheet" />
@model LinkTree.Models.UserDTO.RequestsDTO.ResetPasswordRequest

<div class="section">
	<div class="container">
		<div class="row full-height justify-content-center">
			<div class="col-12 text-center align-self-center py-5">
				<div class="section pb-5 pt-5 pt-sm-2 text-center">
					<div class="card-3d-wrap mx-auto">
						<div class="card-3d-wrapper">
							<div class="card-front">
								<div class="center-wrap">
									<div class="section text-center">
										<form asp-action="ResetPassword" asp-controller="Account" method="post">
											<input type="hidden" name="Token" asp-for="Token" value="@Model.Token" />
											<h4 class="mb-4 pb-3" style="color: white;">Reset Password</h4>
											<div class="form-group mt-2">
												<input type="password"  class="form-style" placeholder="New Password" asp-for="Password" autocomplete="off">
												<i class="input-icon fa fa-unlock"></i>
											</div>
											<div class="form-group mt-2">
												<input type="password" class="form-style" placeholder="Confirm Password" asp-for="ConfirmPassword" autocomplete="off">
												<i class="input-icon fa fa-unlock"></i>
												<span asp-validation-for="ConfirmPassword" class="text-danger"></span>
											</div>
											<button type="submit" class="btn mt-4">Submit</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script>
	function validatePassword() {
		var newPassword = document.getElementById("Password").value;
		var confirmPassword = document.getElementById("ConfirmPassword").value;

		if (newPassword !== confirmPassword) {
			document.getElementById("ConfirmPassword-error").innerText = "Passwords do not match.";
			return false; // Prevent form submission
		} else {
			document.getElementById("ConfirmPassword-error").innerText = ""; // Clear error message
			return true; // Allow form submission
		}
	}

	document.querySelector("form").onsubmit = validatePassword;
</script>